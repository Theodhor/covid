(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{18:function(e,t,a){e.exports=a(41)},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),c=a.n(s),i=a(3),l=a(4),o=a(5),u=a(6),m=(a(23),a(17)),h=a.n(m),d=function(){return r.a.createElement("section",{className:"hero is-primary is-bold"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title has-text-centered cantarell"},"Live COVID-19 stastics and updates"))))},p=a(2),y=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={countries:[],searchInput:null,loading:!1,display:!1},n.handleInput=n.handleInput.bind(Object(p.a)(n)),n.searchRef=r.a.createRef(),n}return Object(l.a)(a,[{key:"handleInput",value:function(e){var t=e.target.value.length>0,a=!!e.target.value,n=this.props.countries,r=new RegExp(e.target.value,"i");n=n.filter((function(e){return null!==e.country.match(r)})),this.setState({searchInput:e.target.value,loading:a,display:t,countries:n})}},{key:"handleSubmit",value:function(e){this.searchRef.current.value="",this.props.handleCountry(e),this.setState({searchInput:"",loading:!1,display:!1,countries:[]})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{ref:this.searchRef,className:"input",onChange:this.handleInput,type:"text",placeholder:"Search country"}))),this.state.display&&this.state.countries?this.state.countries.map((function(t,a){return r.a.createElement("a",{className:"roboto search-span is-size-7-mobile is-size-6-tablet",key:a,onClick:function(){return e.handleSubmit(t)}},t.country," ")})):r.a.createElement("div",null))}}]),a}(r.a.Component),b=function(e){return r.a.createElement("nav",{className:"breadcrumb has-bullet-separator is-centered is-size-7-mobile is-size-7-tablet is-size-6-desktop back-white sticky"},r.a.createElement("ul",null,r.a.createElement("li",{className:e.selectors.World&&!e.single?"is-active":""},r.a.createElement("a",{className:"roboto",onClick:e.handleWorld},"World")),r.a.createElement("li",{className:e.selectors.Europe&&!e.single?"is-active":""},r.a.createElement("a",{className:"roboto",onClick:function(){return e.handleContinents("Europe")}},"Europe ")),r.a.createElement("li",{className:e.selectors.Asia&&!e.single?"is-active":""},r.a.createElement("a",{className:"roboto",onClick:function(){return e.handleContinents("Asia")}},"Asia ")),r.a.createElement("li",{className:e.selectors.North&&!e.single?"is-active":""},r.a.createElement("a",{className:"roboto",onClick:function(){return e.handleContinents("North-America")}},"N.America ")),r.a.createElement("li",{className:e.selectors.Africa&&!e.single?"is-active":""},r.a.createElement("a",{className:"roboto",onClick:function(){return e.handleContinents("Africa")}},"Africa ")),r.a.createElement("li",{className:e.selectors.South&&!e.single?"is-active":""},r.a.createElement("a",{className:"roboto",onClick:function(){return e.handleContinents("South-America")}},"S.America ")),r.a.createElement("li",{className:e.selectors.Oceania&&!e.single?"is-active":""},r.a.createElement("a",{className:"roboto",onClick:function(){return e.handleContinents("Oceania")}},"Oceania "))))},f=function(e){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"roboto sticky back-white-table",onClick:e.orderByCountry},r.a.createElement("a",null,"Country")),r.a.createElement("th",{className:"has-text-right roboto sticky back-white-table",onClick:function(){return e.orderByInput("cases","active")}},r.a.createElement("a",null,"Active cases")),r.a.createElement("th",{className:"has-text-right roboto sticky back-white-table",onClick:function(){return e.orderByInput("cases","new")}},r.a.createElement("a",null,"New cases")),r.a.createElement("th",{className:"has-text-right roboto sticky back-white-table",onClick:function(){return e.orderByInput("cases","total")}},r.a.createElement("a",null,"Total cases")),r.a.createElement("th",{className:"has-text-right roboto sticky back-white-table",onClick:function(){return e.orderByInput("deaths","total")}},r.a.createElement("a",null,"Total deaths")),r.a.createElement("th",{className:"has-text-right roboto sticky back-white-table",onClick:function(){return e.orderByInput("deaths","new")}},r.a.createElement("a",null,"New deaths")),r.a.createElement("th",{className:"has-text-right roboto sticky back-white-table",onClick:function(){return e.orderByInput("tests","total")}},r.a.createElement("a",null,"Tests"))))},E=function(e){var t=function(e){return e.reverse().join("").match(/.{1,3}/g).join(".").split("").reverse().join("")},a=function(e){if(e){var a=e.toString().split("");return a.includes("+")?"+"+t(a.slice(1)):t(a)}return"-"};return r.a.createElement("tr",null,r.a.createElement("th",{className:"roboto light-font"},r.a.createElement("a",{onClick:function(){return e.handleCountry(e.country)}},e.country.country)),r.a.createElement("th",{className:"has-text-right roboto light-font"},a(e.country.cases.active)),r.a.createElement("th",{className:"has-text-right roboto light-font"},a(e.country.cases.new)),r.a.createElement("th",{className:"has-text-right roboto light-font"},a(e.country.cases.total)),r.a.createElement("th",{className:"has-text-right roboto light-font"},a(e.country.deaths.total)),r.a.createElement("th",{className:"has-text-right roboto light-font"},a(e.country.deaths.new)),r.a.createElement("th",{className:"has-text-right roboto light-font"},a(e.country.tests.total)))},v=function(e){return r.a.createElement("tbody",null,e.data.map((function(t){return r.a.createElement(E,{country:t,key:t.country,handleCountry:e.handleCountry})})))},N=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table is-hoverable is-striped is-fullwidth is-size-7-mobile"},r.a.createElement(f,{orderByCountry:e.orderByCountry,orderByInput:e.orderByInput}),r.a.createElement(v,{data:e.data,handleCountry:e.handleCountry})))},k=function(e){var t,a=e.time.split("-"),n=["Jannuary","Febbruary","March","April","May","June","July","August","September","October","November","December"],s="Last updated on "+a[2]+" "+(t=a[1],n[parseInt(t)])+" "+a[0]+"  6:00 GMT";return r.a.createElement("div",{className:"container roboto centralized"},s)},g=function(e){var t=Object.keys(e.data),a=Object.values(e.data),n=function(e){return e.reverse().join("").match(/.{1,3}/g).join(".").split("").reverse().join("")};return r.a.createElement("article",{className:"message ".concat("Cases"===e.description?"is-primary":"Deaths"===e.description?"is-danger":"is-link")},r.a.createElement("div",{className:"message-header centralized is-size-6-mobile is-size-5-tablet is-size-4-desktop"},e.description),r.a.createElement("div",{className:"message-body"},r.a.createElement("table",{className:"table is-striped is-full-width is-hoverable"},r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,r.a.createElement("p",{className:"roboto article-element is-size-7-mobile is-size-6-tablet is-size-5-desktop"}," ",("1M_pop"===(s=e)&&(s="every 1M people"),"new"===s&&(s="last 24 hours"),s.charAt(0).toUpperCase()+s.slice(1))," ")),r.a.createElement("th",null,r.a.createElement("p",{className:"roboto article-element is-size-7-mobile is-size-6-tablet is-size-5-desktop"},3===a.length&&1===t||4===t?a[t]:function(e){if(e){var t=e.toString().split("");return t.includes("+")?"+"+n(t.slice(1)):n(t)}return"-"}(a[t]))));var s}))))))},C=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"title container roboto has-text-centered is-size-6-mobile is-size-5-tablet is-size-3-desktop"},"Latest updates and stats of ".concat(e.country.country)),r.a.createElement("div",{className:"container mb-4"},r.a.createElement(g,{data:e.country.cases,description:"Cases"})),r.a.createElement("div",{className:"container mb-4"},r.a.createElement(g,{data:e.country.deaths,description:"Deaths"})),r.a.createElement("div",{className:"container mb-4"},r.a.createElement(g,{data:e.country.tests,description:"Tests"})))},S=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:[],continents:[],selectors:{World:!0,Asia:!1,Europe:!1,North:!1,South:!1,Africa:!1,Oceania:!1},time:null,single:!1,display:{}},n.scrollRef=r.a.createRef(),n.orderByCountry=n.orderByCountry.bind(Object(p.a)(n)),n.orderByInput=n.orderByInput.bind(Object(p.a)(n)),n.handleContinents=n.handleContinents.bind(Object(p.a)(n)),n.handleWorld=n.handleWorld.bind(Object(p.a)(n)),n.scrollUp=n.scrollUp.bind(Object(p.a)(n)),n.handleSingleCountry=n.handleSingleCountry.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.deconstructResponse()}},{key:"handleSingleCountry",value:function(e){this.setState({single:!0,display:e})}},{key:"handleAmerica",value:function(e){return"North-America"===e?"North":"South-America"===e?"South":e}},{key:"scrollUp",value:function(){this.scrollRef.current.scrollTop=0,this.scrollRef.current.scrollLeft=0}},{key:"resetSelectors",value:function(){return{World:!1,Asia:!1,Europe:!1,North:!1,South:!1,Africa:!1,Oceania:!1}}},{key:"orderByCountry",value:function(){var e=this.state.data;e.sort((function(e,t){return e.country.localeCompare(t.country)})),this.setState({data:e})}},{key:"orderByInput",value:function(e,t){var a=this.state.data.sort((function(a,n){return n[e][t]-a[e][t]}));this.setState({data:a})}},{key:"deconstructResponse",value:function(){var e=this,t=["Europe","North-America","South-America","Asia","Africa","Oceania"],a=[];t.forEach((function(t,n){var r={};r.continent=t;var s=e.props.data.filter((function(e){return e.continent===t&&e.country!==t}));r.countries=s,a.push(r)}));var n=this.props.data.filter((function(e){return"All"===e.country}));t.push("All");var r=this.props.data.filter((function(e){return!t.includes(e.country)}));this.setState({continents:a,world:n,countries:r,data:r,time:n[0].day})}},{key:"handleContinents",value:function(e){this.scrollUp();var t=this.resetSelectors();t[this.handleAmerica(e)]=!0;var a=this.state.continents.find((function(t){return t.continent===e}));this.setState({data:a.countries,selectors:t,single:!1})}},{key:"handleWorld",value:function(){this.scrollUp();var e=this.state.countries,t=this.resetSelectors();t.World=!0,this.setState({data:e,selectors:t,single:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"columns is-multiline is-centered is-vcentered sticky back-white-search"},r.a.createElement("div",{className:"column is-one-quarter"},this.state.time?r.a.createElement(k,{time:this.state.time}):r.a.createElement("div",null)),r.a.createElement("div",{className:"column is-half"},r.a.createElement(y,{countries:this.state.countries,handleCountry:this.handleSingleCountry})),r.a.createElement("div",{className:"column is-10"},r.a.createElement("div",{className:"container"},r.a.createElement(b,{handleContinents:this.handleContinents,handleWorld:this.handleWorld,selectors:this.state.selectors,single:this.state.single})))),r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column is-10"},r.a.createElement("div",{ref:this.scrollRef,className:"container is-overflowed-x"},this.state.single?r.a.createElement(C,{country:this.state.display}):r.a.createElement(N,{data:this.state.data,orderByInput:this.orderByInput,orderByCountry:this.orderByCountry,handleCountry:this.handleSingleCountry})))))}}]),a}(r.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={data:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;h()({method:"GET",url:"https://covid-193.p.rapidapi.com/statistics",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"covid-193.p.rapidapi.com","x-rapidapi-key":"5f0cfd44acmshb90e276d7bc11d3p130ab5jsn01caf7f45f20",useQueryString:!0}}).then((function(t){e.setState({data:t.data.response})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d,null),this.state.data.length>0?r.a.createElement(S,{data:this.state.data}):r.a.createElement("div",null))}}]),a}(r.a.Component);c.a.render(r.a.createElement(O,null),document.querySelector("#root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.8b828233.chunk.js.map